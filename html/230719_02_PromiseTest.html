<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>** Promise 연습 **</title>
    <script>
      // => 아래 코드의 print function을 promise에 적용
      /*       let jeju = {
        resorts: ["제주", "서귀포", "유채꽃밭", "한라산"],
        print: function (delay = 1000) {
          console.log("** print Test1) => " + this.resorts.join(","));
          // => this 는 현재객체 jeju
          setTimeout(
            // this는 jeju 객체를 가리킴
            () => console.log("** print Test2) => " + this.resorts.join(",")),
            delay
          );
        }, //print
      }; //jeju
      jeju.print(); */
      resorts = ["제주", "서귀포", "유채꽃밭", "한라산"];
      let promise = new Promise((resolve, reject) => {
        setTimeout(() => {
          let text = resorts.join("-");
          // 완성된 문자열의 길이가 30을 초과하면 오류 처리
          if (text.length <= 30) {
            // 이행
            resolve(text);
          } else {
            // 거절
            reject(`** Error **`);
          }
        }, 1000);
      })
        .then((result) => {
          console.log(`${result}`);
        })
        .catch((error) => {
          console.log(`${error}`);
        })
        .finally(() => {
          console.log(`finally`);
        });
    </script>
  </head>
  <body>
    <h3>** Promise 연습 **</h3>
  </body>
</html>
